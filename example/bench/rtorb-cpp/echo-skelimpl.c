/* This is a template file generated by command */
/* rtorb-idl --skeleton-impl echo.idl */
/* User must edit this file, inserting servant  */
/* specific code between markers. */

#include "echo.h"

/*** App-specific servant structures ***/























typedef struct {
POA_RTC_Echo servant;
PortableServer_POA poa;



   /* ------ add private attributes here ------ */
#if __cplusplus
     CORBA::Object_var impl_obj;
#endif /* __cplusplus */
   /* ------ ---------- end ------------ ------ */
} impl_POA_RTC_Echo;




/*** Implementation stub prototypes ***/























static void impl_RTC_Echo__destroy(impl_POA_RTC_Echo *servant,
CORBA_Environment *ev);
static CORBA_string
impl_RTC_Echo_echoString(impl_POA_RTC_Echo *servant,
const CORBA_char * mesg,
CORBA_Environment *ev);

static RTC_TimedLongSeq
impl_RTC_Echo_echoTimedLongSeq(impl_POA_RTC_Echo *servant,
RTC_TimedLongSeq* x,
CORBA_Environment *ev);

static RTC_TimedStringSeq
impl_RTC_Echo_echoTimedStringSeq(impl_POA_RTC_Echo *servant,
RTC_TimedStringSeq* x,
CORBA_Environment *ev);




/*** epv structures ***/























static PortableServer_ServantBase__epv impl_RTC_Echo_base_epv = {
NULL,             /* _private data */
(void (*)(void*, CORBA_Environment*))& impl_RTC_Echo__destroy, /* finalize routine */
NULL,             /* default_POA routine */
};
static POA_RTC_Echo__epv impl_RTC_Echo_epv = {
NULL, /* _private */
(CORBA_string (*)(void *, const CORBA_char *, CORBA_Environment *))&impl_RTC_Echo_echoString,

(RTC_TimedLongSeq (*)(void *, RTC_TimedLongSeq*, CORBA_Environment *))&impl_RTC_Echo_echoTimedLongSeq,

(RTC_TimedStringSeq (*)(void *, RTC_TimedStringSeq*, CORBA_Environment *))&impl_RTC_Echo_echoTimedStringSeq,

};


/*** vepv structures ***/























static POA_RTC_Echo__vepv impl_RTC_Echo_vepv = {
&impl_RTC_Echo_base_epv,
&impl_RTC_Echo_epv,
};


/*** Stub implementations ***/























__attribute__((weak)) CORBA_RTC_Echo impl_RTC_Echo__create(PortableServer_POA poa, CORBA_Environment *ev)
{
CORBA_RTC_Echo retval;
impl_POA_RTC_Echo *newservant;
PortableServer_ObjectId objid;

newservant = (impl_POA_RTC_Echo *)RtORB_calloc(1, sizeof(impl_POA_RTC_Echo)," create...");
newservant->servant.vepv = &impl_RTC_Echo_vepv;
newservant->poa = poa;
POA_RTC_Echo__init((PortableServer_Servant)newservant, ev);
   /* Before servant is going to be activated all
    * private attributes must be initialized.  */

   /* ------ init private attributes here ------ */
   /* ------ ---------- end ------------- ------ */

objid = PortableServer_POA_activate_object(poa, newservant, ev);
RtORB_free(objid, " objid");
retval = PortableServer_POA_servant_to_reference(poa, newservant, ev);

return retval;
}

static void
impl_RTC_Echo__destroy(impl_POA_RTC_Echo *servant, CORBA_Environment *ev)
{
    CORBA_Object_release ((CORBA_Object) servant->poa, ev);

    /* No further remote method calls are delegated to 
    * servant and you may free your private attributes. */
   /* ------ free private attributes here ------ */
   /* ------ ---------- end ------------- ------ */

POA_RTC_Echo__fini((PortableServer_Servant)servant, ev);

RtORB_free (servant, "servant");
}



 /*** create servent **/ 
__attribute__((weak)) impl_POA_ServantBase * impl_RTC_Echo__create_servant(PortableServer_POA poa, CORBA_Environment *ev)
{
CORBA_RTC_Echo retval;
impl_POA_RTC_Echo *newservant;
PortableServer_ObjectId objid;

newservant = (impl_POA_RTC_Echo *)RtORB_calloc(1, sizeof(impl_POA_RTC_Echo), "  create_servant");
newservant->servant.vepv = &impl_RTC_Echo_vepv;
newservant->poa = poa;
POA_RTC_Echo__init((PortableServer_Servant)newservant, ev);
   /* Before servant is going to be activated all
    * private attributes must be initialized.  */

   /* ------ init private attributes here ------ */
   /* ------ ---------- end ------------- ------ */


return (impl_POA_ServantBase*)newservant;
}

static CORBA_string
impl_RTC_Echo_echoString(impl_POA_RTC_Echo *servant,
const CORBA_char * mesg,
CORBA_Environment *ev)
{
CORBA_string retval;
#if __cplusplus
    CORBA_Object object = impl_POA_ServantBase_to_Object((impl_POA_ServantBase *)servant);
    CORBA::Object *obj_ = reinterpret_cast<CORBA::Object*>(object->impl_obj);
    RTC::Echo__impl *impl = dynamic_cast<RTC::Echo__impl *>(obj_);
CORBA_string_var var = impl->echoString(
CORBA_string_CInArg(mesg )                         );
retval = var._retn();
ev->_cpp_flag = 1;
#else /*  C  */
 /* ------   insert method code here   ------ */
 /* ------ ---------- end ------------ ------ */
#endif /* __cplusplus */ 
return retval;
}


static RTC_TimedLongSeq
impl_RTC_Echo_echoTimedLongSeq(impl_POA_RTC_Echo *servant,
RTC_TimedLongSeq* x,
CORBA_Environment *ev)
{
RTC_TimedLongSeq retval;
#if __cplusplus
    CORBA_Object object = impl_POA_ServantBase_to_Object((impl_POA_ServantBase *)servant);
    CORBA::Object *obj_ = reinterpret_cast<CORBA::Object*>(object->impl_obj);
    RTC::Echo__impl *impl = dynamic_cast<RTC::Echo__impl *>(obj_);
RTC::TimedLongSeq_var var = impl->echoTimedLongSeq(
RTC::TimedLongSeq_CInArg(x )                         );
/* type = 35 */
retval = var;
ev->_cpp_flag = 1;
#else /*  C  */
 /* ------   insert method code here   ------ */
 /* ------ ---------- end ------------ ------ */
#endif /* __cplusplus */ 
return retval;
}


static RTC_TimedStringSeq
impl_RTC_Echo_echoTimedStringSeq(impl_POA_RTC_Echo *servant,
RTC_TimedStringSeq* x,
CORBA_Environment *ev)
{
RTC_TimedStringSeq retval;
#if __cplusplus
    CORBA_Object object = impl_POA_ServantBase_to_Object((impl_POA_ServantBase *)servant);
    CORBA::Object *obj_ = reinterpret_cast<CORBA::Object*>(object->impl_obj);
    RTC::Echo__impl *impl = dynamic_cast<RTC::Echo__impl *>(obj_);
RTC::TimedStringSeq_var var = impl->echoTimedStringSeq(
RTC::TimedStringSeq_CInArg(x )                         );
/* type = 35 */
retval = var;
ev->_cpp_flag = 1;
#else /*  C  */
 /* ------   insert method code here   ------ */
 /* ------ ---------- end ------------ ------ */
#endif /* __cplusplus */ 
return retval;
}





/*** C++ interface ***/

























